<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Powze4</title>
  <style>
    :root { color-scheme: light dark; }
    * { box-sizing: border-box; }
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; margin: 2rem; }
    h1 { margin: 0 0 .25rem 0; }
    .subtitle { color: #666; margin: 0 0 1rem 0;}
    .status { margin: .5rem 0 1rem 0; font-weight: 600; }
    .board-wrap { display: inline-block; }
    .legend { display: grid; grid-template-columns: 40px repeat(7, 64px); gap: 8px; margin: .25rem 0; align-items: center; }
    .legend .corner { height: 1px; }
    .legend .col-idx, .row-idx { text-align: center; font-weight: 600; color: #555; }
    .grid {
      display: grid;
      grid-template-columns: 40px repeat(7, 64px);
      grid-auto-rows: 64px;
      gap: 8px;
      padding: 8px;
      background: #0d47a1;
      border-radius: 14px;
      box-shadow: inset 0 2px 10px rgba(0,0,0,.25);
    }
    .row-idx {
      display: flex; align-items: center; justify-content: center; color: #fff; font-weight: 700;
    }
    .cell {
      width: 64px; height: 64px; border-radius: 50%;
      background: #f2f2f2;
      box-shadow: inset 0 2px 6px rgba(0,0,0,.18);
    }
    .p1 { background: #e74c3c; }
    .p2 { background: #3498db; }
    .empty { background: #f5f5f5; }
    .controls { display:flex; gap:.5rem; margin-top:1rem; flex-wrap: wrap;}
    button { padding: .5rem .75rem; border: 1px solid #444; background: white; cursor: pointer; border-radius: 8px; }
    button:hover { background: #f6f6f6; }
    button[disabled] { opacity:.5; cursor:not-allowed; }
  </style>
</head>
<body>
  <h1>Puissance 4</h1>
  <p class="subtitle"></p>

  <div class="status">
    {{if ne .Winner 0}}
      {{if eq .Winner -1}}Match nul !
      {{else if eq .Winner 1}}Le joueur 1 a gagné !
      {{else}}Le joueur 2 a gagné !{{end}}
    {{else}}
      Tour du joueur {{.CurrentPlayer}}
    {{end}}
  </div>

  <div class="board-wrap" role="group" aria-label="Grille du Puissance 4">
    <div class="legend" aria-hidden="true">
      <div class="corner"></div>
      <div class="col-idx">1</div><div class="col-idx">2</div><div class="col-idx">3</div>
      <div class="col-idx">4</div><div class="col-idx">5</div><div class="col-idx">6</div><div class="col-idx">7</div>
    </div>
    <div class="grid" role="grid" aria-label="Plateau 6 lignes par 7 colonnes">
      {{if .Board}}
        {{range $i, $row := .Board}}
          <div class="row-idx">•</div>
          {{range $j, $cell := $row}}
            {{if eq $cell 1}}
              <div class="cell p1" role="gridcell" aria-label="Jeton joueur 1"></div>
            {{else if eq $cell 2}}
              <div class="cell p2" role="gridcell" aria-label="Jeton joueur 2"></div>
            {{else}}
              <div class="cell empty" role="gridcell" aria-label="Case vide"></div>
            {{end}}
          {{end}}
        {{end}}
      {{else}}
        <div class="row-idx">•</div><div class="cell empty"></div><div class="cell empty"></div><div class="cell empty"></div><div class="cell empty"></div><div class="cell empty"></div><div class="cell empty"></div><div class="cell empty"></div>
        <div class="row-idx">•</div><div class="cell empty"></div><div class="cell empty"></div><div class="cell empty"></div><div class="cell empty"></div><div class="cell empty"></div><div class="cell empty"></div><div class="cell empty"></div>
        <div class="row-idx">•</div><div class="cell empty"></div><div class="cell empty"></div><div class="cell empty"></div><div class="cell empty"></div><div class="cell empty"></div><div class="cell empty"></div><div class="cell empty"></div>
        <div class="row-idx">•</div><div class="cell empty"></div><div class="cell empty"></div><div class="cell empty"></div><div class="cell empty"></div><div class="cell empty"></div><div class="cell empty"></div><div class="cell empty"></div>
        <div class="row-idx">•</div><div class="cell empty"></div><div class="cell empty"></div><div class="cell empty"></div><div class="cell empty"></div><div class="cell empty"></div><div class="cell empty"></div><div class="cell empty"></div>
        <div class="row-idx">•</div><div class="cell empty"></div><div class="cell empty"></div><div class="cell empty"></div><div class="cell empty"></div><div class="cell empty"></div><div class="cell empty"></div><div class="cell empty"></div>
      {{end}}
    </div>
    <div class="legend" aria-hidden="true">
      <div class="corner"></div>
      <div class="col-idx">1</di
